<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="bda.plone.orders">

<head>
  <metal:top fill-slot="top_slot">
    <tal:border define="dummy python:request.set('disable_border', True)" />
  </metal:top>
</head>

<body>

<metal:main fill-slot="main">
  <tal:main-macro metal:define-macro="main">
    
    <h1 class="documentFirstHeading" i18n:translate="orders">Orders</h1>
    
    <table id="bdaploneorders"
           tal:define="ajaxurl python:'%s/%s' % (context.absolute_url(),
                                                 '@@orderssoupdata');
                       columns view/columns"
           tal:attributes="data-ajaxurl ajaxurl">
      <thead>
        <tr>
          <tal:loop repeat="colinfo columns">
            <th tal:attributes="class python:'datarow-'+colinfo[1];">
              <span tal:replace="python:colinfo[0]">Title</span>
            </th>
          </tal:loop>
        </tr>
      </thead>
      
      <tbody>
        <tr>
          <td tal:attributes="columnspan: python:len(columns)">
            Bitte warte. Lade Daten...
          </td>
        </tr>
      </tbody>
      
      <tfoot>
        <tr>
          <tal:loop repeat="colinfo columns">
            <th>
              <input type="text"
                     class="search_init"
                     value="Search engines"
                     name="search_engine"
                     tal:attributes="value python: 'Suche in '+ colinfo[0];
                                     name python: colinfo[0];" >
            </th>
          </tal:loop>
        </tr>
      </tfoot> 
    </table>
    
    <div class="orderscsvexport">
      <p>
        <a href="#"
           tal:attributes="href string:${context/absolute_url}/@@orderscsvexport">
          Export all data as CSV (excel optimized)
        </a>
      </p>
    </div>

  </tal:main-macro>
</metal:main>

</body>
</html>